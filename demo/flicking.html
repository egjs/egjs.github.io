<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi">
	<title>egjs: Flicking component demo</title>
	<link href='https://fonts.googleapis.com/css?family=Raleway:400,900' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Work+Sans:400,300' rel='stylesheet' type='text/css'>
	<style>
		body,pre{margin:0 auto}.bold,button{font-weight:700}.eg-flick-panel p,.vbutton{text-align:center}body{padding:0 10px;font-family:Raleway,sans-serif;background-color:ivory;min-width:320px;max-width:800px}.hljs{font-family:'Work Sans',sans-serif;font-size:13px;border-radius:10px;border:5px solid #0ff}h4{margin-bottom:0}hr{margin:30px auto;width:90%}.flick{height:50px;background-color:grey;margin:0 auto}.eg-flick-container>div{height:100%;float:left;display:block}.eg-flick-panel p{margin:0;font-size:2em}.vertical{height:130px}.vertical p{font-size:2.3em;margin-top:36px}#log{height:78px;overflow-y:scroll;background-color:#eee;margin-bottom:10px;padding-left:10px}.red{color:red}.f_right{float:right}button{border-radius:20px;margin:3px;height:22px;font-size:10px;border:2px solid #B7B5B5;background-color:#fff;position:relative;z-index:2001;top:-40px;cursor:pointer;color:#B7B5B5}.vbutton button{top:-15px}

		/* for github fork ribbon */
		.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}
	</style>

	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<!-- All-in-one eg.Flicking with dependency files -->
	<script src="https://cdn.rawgit.com/egjs/egjs.github.io/master/0.0.3/dist/pkgd/flicking.pkgd.min.js"></script>

	<!--
		To load each file separately:
		<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.4/hammer.min.js"></script>
		<script src="../src/module.js"></script>
		<script src="../src/eg.js"></script>
		<script src="../src/customEvent/rotate.js"></script>
		<script src="../src/class.js"></script>
		<script src="../src/component.js"></script>
		<script src="../src/movableCoord.js"></script>
		<script src="../src/flicking.js"></script>
	-->

	<!-- highlight.js: is for syntax highlight, not necessary for your code -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/default.min.css" rel="stylesheet" type="text/css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/darkula.min.css" rel="stylesheet" type="text/css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/languages/javascript.min.js" type="text/javascript"></script>
</head>
<body>
<br>
<h1>eg.Flicking demo</h1>

<h2>HTML outline example</h2>
<pre><code class="xml"> &lt;!-- wrapper ---->
 &lt;div id="wrapper">
	&lt;!-- panels ---->
	&lt;div>
		&lt;p>panel 0&lt;/p>
	&lt;/div>
	&lt;div>
		&lt;p>panel 1&lt;/p>
	&lt;/div>
	&lt;div>
		&lt;p>panel 2&lt;/p>
	&lt;/div>
 &lt;/div></code></pre>

<hr size="1">

<h2>Quick start</h2>

<h4>Two ways of using eg.Flicking</h4>

<p>Just choose what is more convenient for you.</p>

<p>1) As jQuery plugin style</p>
<pre><code class="hljs javascript"> // create flicking ui without option
 $("#wrapper").flicking();

 // create flicking ui with options
 $("#wrapper").flicking({
	duration: 300,
	circular: true,
	defaultIndex: 1
 });

 // create flicking ui and get instance of it
 var $el = $("#wrapper").flicking();
 $el.data("eg-flicking");  // return instance
</code></pre><br>

<p>2) As creating instance</p>

<pre><code class="hljs javascript"> // create flicking ui without option
 new eg.Flicking("#wrapper");

 // create flicking ui with options
 new eg.Flicking("#wrapper").({
	duration: 300,
	circular: true,
	defaultIndex: 1
 });

 // create flicking ui and get instance of it
 var instance = new eg.Flicking("#wrapper");
</code></pre><br>

<hr size="1">

<h2>Horizontal direction</h2>

<span class="bold">Non-Circular</span>
<div id="mflick1" class="flick">
	<div style="background-color:#CC66CC">
		<p>panel 0</p>
	</div>
	<div style="background-color:#66cccc">
		<p>panel 1</p>
	</div>
	<div style="background-color:#ffc000">
		<p>panel 2</p>
	</div>
</div>
<button onclick="f1.prev()">&lt;</button> <button class="f_right" onclick="f1.next()">&gt;</button>

<pre><code class="hljs javascript"> // as jQuery plugin style
 $("#wrapper").flicking();

 // or as creating instance
 new eg.Flicking("#wrapper");</code></pre><br>

<span class="bold">Circular</span>
<div id="mflick2" class="flick">
	<div id="item1" style="background-color:#CC66CC">
		<p>panel 0</p>
	</div>
	<div id="item2" style="background-color:#66cccc">
		<p>panel 1</p>
	</div>
	<div id="item3" style="background-color:#ffc000">
		<p>panel 2</p>
	</div>
</div>
<button onclick="f2.prev()">&lt;</button> <button class="f_right" onclick="f2.next()">&gt;</button>

<pre><code class="hljs javascript">  // as jQuery plugin style
 $("#wrapper").flicking({
	duration: 300,
	circular: true,
	defaultIndex: 1
 });

 // or as creating instance
 new eg.Flicking("#wrapper", {
	duration: 300,
	circular: true,
	defaultIndex: 1
 });
</code></pre><br>

<span class="bold">Preview & circular</span>
<div id="mflick3" class="flick">
	<div class="p0" style="background-color:#CC66CC">
		<p>panel 0</p>
	</div>
	<div class="p1" style="background-color:#66cccc">
		<p>panel 1</p>
	</div>
	<div class="p2" style="background-color:#ffc000">
		<p>panel 2</p>
	</div>
	<div class="p3" style="background-color:green">
		<p>panel 3</p>
	</div>
	<div class="p4" style="background-color:maroon">
		<p>panel 4</p>
	</div>
</div>
<button onclick="f3.prev()">&lt;</button> <button class="f_right" onclick="f3.next()">&gt;</button>

<pre><code class="hljs javascript">  // as jQuery plugin style
 $("#wrapper").flicking({
	duration: 300,
	circular: true,
	previewPadding: [ 50, 50 ],
	defaultIndex: 3
 });

 // or as creating instance
 new eg.Flicking("#wrapper", {
	duration: 300,
	circular: true,
	previewPadding: [ 50, 50 ],
	defaultIndex: 3
 });</code></pre>

<hr size="1">

<h2>Vertical direction</h2>

<span class="bold">Non-Circular</span>
<div id="vflick1" class="flick vertical">
	<div style="background-color:#CC66CC">
		<p>panel 0</p>
	</div>
	<div style="background-color:#66cccc">
		<p>panel 1</p>
	</div>
	<div style="background-color:#ffc000">
		<p>panel 2</p>
	</div>
</div>
<div class="vbutton"><button onclick="v1.prev()">^</button> <button onclick="v1.next()">v</button></div>

<pre><code class="hljs javascript">  // as jQuery plugin style
 $("#wrapper").flicking({
	horizontal: false
 });

 // or as creating instance
 new eg.Flicking("#wrapper", {
	horizontal: false
 });</code></pre><br>

<span class="bold">Circular</span>
<div id="vflick2" class="flick vertical">
	<div style="background-color:#CC66CC">
		<p>panel 0</p>
	</div>
	<div style="background-color:#66cccc">
		<p>panel 1</p>
	</div>
	<div style="background-color:#ffc000">
		<p>panel 2</p>
	</div>
</div>
<div class="vbutton"><button onclick="v2.prev()">^</button> <button onclick="v2.next()">v</button></div>

<pre><code class="hljs javascript">  // as jQuery plugin style
 $("#wrapper").flicking({
	horizontal: false,
	circular: true,
	duration: 300,
	defaultIndex: 1,
 });

 // or as creating instance
 new eg.Flicking("#wrapper", {
	horizontal: false,
	circular: true,
	duration: 300,
	defaultIndex: 1,
 });</code></pre><br>

<span class="bold">Preview & circular</span>
<div id="vflick3" class="flick vertical">
	<div class="p0" style="background-color:#CC66CC">
		<p>panel 0</p>
	</div>
	<div class="p1" style="background-color:#66cccc">
		<p>panel 1</p>
	</div>
	<div class="p2" style="background-color:#ffc000">
		<p>panel 2</p>
	</div>
	<div class="p3" style="background-color:green">
		<p>panel 3</p>
	</div>
	<div class="p4" style="background-color:maroon">
		<p>panel 4</p>
	</div>
</div>
<div class="vbutton"><button onclick="v3.prev()">^</button> <button onclick="v3.next()">v</button></div>

<pre><code class="hljs javascript">  // as jQuery plugin style
 $("#wrapper").flicking({
	horizontal: false,
	circular: true,
	previewPadding: [ 20, 10 ],
	duration: 300,
	defaultIndex: 3
 });

 // or as creating instance
 new eg.Flicking("#wrapper", {
	horizontal: false,
	circular: true,
	previewPadding: [ 20, 10 ],
	duration: 300,
	defaultIndex: 3
 });</code></pre>

<hr size="1">

<h2>Custom events</h2>

<div id="mflick4" class="flick">
	<div id="item1" style="background-color:#CC66CC">
		<p>panel 0</p>
	</div>
	<div id="item2" style="background-color:#66cccc">
		<p>panel 1</p>
	</div>
	<div id="item3" style="background-color:#ffc000">
		<p>panel 2</p>
	</div>
</div>
<button onclick="f4.prev()">&lt;</button> <button class="f_right" onclick="f4.next()">&gt;</button>

<div id="log"></div>
<pre><code class="hljs javascript">  // as jQuery plugin style
 // event names are used with prefix to avoid ambiguity and collision
 $("#wrapper").flicking({
	duration: 300,
	circular: true,
	threshold: 70
 }).on("flicking:beforeFlickStart "+
	"flicking:flick "+
	"flicking:flickEnd "+
	"flicking:beforeRestore "+
	"flicking:restore", handler);

 // or as creating instance
 new eg.Flicking("#wrapper", {
	duration: 300,
	circular: true,
	threshold: 70
 }).on({
	beforeFlickStart: handler,
	flick: handler,
	flickEnd: handler,
	beforeRestore: handler,
	restore: handler
 });

 function handler(e) {
	$("#log").html(
	  e.eventType +" event fired."
 	);
 }</code></pre>

<hr size="1">

<h2>Handle multiple data with fixed panel divs</h2>

<div id="mflick5" class="flick">
	<div style="background-color:#CC66CC"></div>
	<div style="background-color:#66cccc"></div>
	<div style="background-color:#ffc000"></div>
</div>
<button onclick="f5.prev()">&lt;</button> <button class="f_right" onclick="f5.next()">&gt;</button>

<pre><code class="hljs javascript"> var instance = new eg.Flicking("#wrapper", {
	duration : 200,
	hwAccelerable : true,
	threshold : 70,
	circular: true
 }).on({
	flickEnd: function(e) {
		var direction = e.direction;
		var MC = eg.MovableCoord;

		if( direction === MC.DIRECTION_LEFT ) {
			df.appendChild( this.getNextElement()[0].firstChild );
			this.getNextElement().append( df.firstChild );

		} else if( direction === MC.DIRECTION_RIGHT ) {
			df.insertBefore( this.getPrevElement()[0].firstChild, df.firstChild );
			this.getPrevElement().append( df.lastChild );
		}
	}
});

 // Prepare 20 panels data
 var df = document.createDocumentFragment();
 for(var i=0; i<20; i++) {
	df.appendChild($("&lt;p>panel "+ i +"&lt;/p>")[0]);
 }

 // Show initial panel data
 instance.getElement().append(df.firstChild);
 instance.getPrevElement().append(df.lastChild);
 instance.getNextElement().append(df.firstChild);
</code></pre><br>

<script>
var count = 1;

function handler(e) {
	var log = $("#log");

	if(handler.end) {
		log.html("");
		count = 1;
	}

	log.html((count++) +": <span class=red>"+ e.eventType +"</span> event fired.<br>"+ log.html());
	handler.end = ~e.eventType.indexOf("flickEnd");
}

// Horizontal direction
//var f1 = new eg.Flicking("#mflick1");
var f1 = $("#mflick1").flicking().data("eg-flicking");

var f2 = new eg.Flicking("#mflick2", {
	duration: 300,
	circular: true,
	defaultIndex: 1
});

var f3 = new eg.Flicking("#mflick3", {
	duration: 300,
	circular: true,
	previewPadding: [ 50, 50 ],
	defaultIndex: 3
});

// Vertical direction
var v1 = new eg.Flicking("#vflick1", {
	horizontal:false
});

var v2 = new eg.Flicking("#vflick2", {
	horizontal: false,
	circular: true,
	duration: 300,
	defaultIndex: 1
});

var v3 = new eg.Flicking("#vflick3", {
	horizontal: false,
	circular: true,
	previewPadding: [ 20, 10 ],
	duration: 300,
	defaultIndex: 3
});

// Bind custom events
/*var f4 = $("#mflick4").flicking({
	circular: true,
	duration: 300,
	threshold: 70
}).on("flicking:beforeFlickStart", handler);*/

var f4 = new eg.Flicking("#mflick4", {
	circular: true,
	duration: 300,
	threshold: 70
}).on({
	beforeFlickStart: handler,
	flick: handler,
	flickEnd: handler,
	beforeRestore: handler,
	restore: handler
});

var f5 = new eg.Flicking("#mflick5", {
	duration : 200,
	hwAccelerable : true,
	threshold : 70,
	circular: true
}).on({
	flickEnd: function(e) {
		var direction = e.direction;
		var MC = eg.MovableCoord;

		if( direction === MC.DIRECTION_LEFT ) {
			df.appendChild( this.getNextElement()[0].firstChild );
			this.getNextElement().append( df.firstChild );

		} else if( direction === MC.DIRECTION_RIGHT ) {
			df.insertBefore( this.getPrevElement()[0].firstChild, df.firstChild );
			this.getPrevElement().append( df.lastChild );
		}

	}
});

// Prepare 20 panels data
var df = document.createDocumentFragment();
for(var i=0; i<20; i++) {
	df.appendChild($("<p>panel "+ i +"</p>")[0]);
}

// Show initial panel data
f5.getElement().append(df.firstChild);
f5.getPrevElement().append(df.lastChild);
f5.getNextElement().append(df.firstChild);

hljs.initHighlightingOnLoad();
</script>

<!-- http://tholman.com/github-corners/ -->
<a href="http://github.com/egjs/egjs" title="Fork me on GitHub" class="github-corner">
	<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;">
		<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
		<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
		<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
	</svg>
</a>
</body>
</html>